@{
    ViewData["Title"] = "Código Enviado";
    Layout = null;
}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Código Enviado</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="~/css/login/resetpasswordsent.css" rel="stylesheet" />
</head>
<body>
    <div class="floating-elements">
        <div class="floating-element"></div>
        <div class="floating-element"></div>
        <div class="floating-element"></div>
    </div>

    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <div class="auth-container">
        <div class="auth-card">
            <div class="success-icon-container">
                <div class="success-icon-bg"></div>
                <i class="fas fa-check-circle success-icon"></i>
            </div>

            <h2>Código de verificación enviado</h2>
            <p>Hemos enviado un código de verificación a <strong>@ViewBag.Email</strong>.</p>
            <p>Por favor revise su bandeja de entrada y siga las instrucciones.</p>

            <div class="button-container">
                <a href="/Login/ResetPassword?email=@ViewBag.Email" class="btn btn-primary btn-ripple" id="continueBtn">
                    <i class="fas fa-key"></i> Ingresar Código
                </a>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Efecto ripple para botones
            const rippleButtons = document.querySelectorAll('.btn-ripple');
            rippleButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    // Mostrar loading overlay inmediatamente
                    const loadingOverlay = document.getElementById('loadingOverlay');
                    loadingOverlay.style.display = 'flex';

                    // Efecto ripple
                    const rect = button.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;

                    const ripple = document.createElement('span');
                    ripple.style.position = 'absolute';
                    ripple.style.left = x + 'px';
                    ripple.style.top = y + 'px';
                    ripple.style.width = '0';
                    ripple.style.height = '0';
                    ripple.style.borderRadius = '50%';
                    ripple.style.background = 'rgba(255, 255, 255, 0.5)';
                    ripple.style.transform = 'translate(-50%, -50%)';
                    ripple.style.animation = 'rippleEffect 0.6s ease-out';
                    ripple.style.pointerEvents = 'none';

                    button.appendChild(ripple);

                    setTimeout(() => {
                        ripple.remove();
                    }, 600);

                    // Pequeño delay para que se vea el efecto antes de navegar
                    setTimeout(() => {
                        window.location.href = button.href;
                    }, 200);

                    // Prevenir navegación inmediata
                    e.preventDefault();
                });
            });

            // Ocultar loading overlay cuando la página se carga completamente
            window.addEventListener('load', function() {
                const loadingOverlay = document.getElementById('loadingOverlay');
                loadingOverlay.style.display = 'none';
            });

            // Manejar navegación hacia atrás
            window.addEventListener('pageshow', function(event) {
                if (event.persisted) {
                    const loadingOverlay = document.getElementById('loadingOverlay');
                    loadingOverlay.style.display = 'none';
                }
            });
        });
    </script>


</body>
</html>